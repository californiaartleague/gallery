<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Test</title>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <h1>Test</h1>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script>
      $(window).load(function() {
      //   $.ajax({
      //     url: "https://oauth.wildapricot.org/auth/token",
      //     type: "POST",
      //     data: {
      //       grant_type: "client_credentials",
      //       scope: "events_view contacts_view"
      //     },
      //     xhrFields: { withCredentials: true },
      //     beforeSend: function (xhr) { 
      //       xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
      //       xhr.setRequestHeader("Authorization", "Basic " + btoa("APIKEY:20kl00o9vn1c6xtbs2rhgmbo6rc3bg"));             
      //     },
      //     success: function(data, status, xhr) {
      //       console.log("data: " + data);
      //     },
      //     error: function(xhr, status, error) {
      //       console.log("status: " + status);
      //     },
      //     complete: function() {
      //       console.log("complete");
      //     }
      //   });
      // });
      // var settings = {
      //   "async": true,
      //   "crossDomain": true,
      //   "url": "https://oauth.wildapricot.org/auth/token",
      //   "method": "POST",
      //   "headers": {
      //     "content-type": "application/x-www-form-urlencoded",
      //     "authorization": "Basic QVBJS0VZOjIwa2wwMG85dm4xYzZ4dGJzMnJoZ21ibzZyYzNiZw==",
      //     "cache-control": "no-cache",
      //     "postman-token": "e2d56c71-775b-d4fe-4dc5-78698800bb91"
      //   },
      //   "data": {
      //     "grant_type": "client_credentials",
      //     "scope": "events_view contacts_view"
      //   }
      // }

      // $.ajax(settings).done(function (response) {
      //   console.log(response);
      // });
      var data = "grant_type=client_credentials&scope=events_view%20contacts_view";

      var xhr = new XMLHttpRequest();
      xhr.withCredentials = true;

      xhr.addEventListener("readystatechange", function () {
        if (this.readyState === 4) {
          console.log(this.responseText);
        }
      });

      xhr.open("POST", "https://oauth.wildapricot.org/auth/token");
      xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
      xhr.setRequestHeader("authorization", "Basic QVBJS0VZOjIwa2wwMG85dm4xYzZ4dGJzMnJoZ21ibzZyYzNiZw==");
      xhr.setRequestHeader("cache-control", "no-cache");
      xhr.setRequestHeader("postman-token", "c01ef231-d061-e005-0c6f-abcb3451b810");

      xhr.send(data);
      });
    </script>
  </body>
</html>